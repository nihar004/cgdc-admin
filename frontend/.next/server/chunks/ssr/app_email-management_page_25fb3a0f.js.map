{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 5, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Acer/Desktop/cgdc-admin/frontend/app/email-management/page.js"],"sourcesContent":["\"use client\";\r\n\r\nimport React, { useState, useEffect } from \"react\";\r\nimport axios from \"axios\";\r\nimport {\r\n  Send,\r\n  Mail,\r\n  Users,\r\n  Eye,\r\n  Trash2,\r\n  Plus,\r\n  Edit,\r\n  Save,\r\n  X,\r\n} from \"lucide-react\";\r\n\r\nconst EmailCampaignPage = () => {\r\n  const [activeTab, setActiveTab] = useState(\"compose\");\r\n  const [templates, setTemplates] = useState([]);\r\n  const [campaigns, setCampaigns] = useState([]);\r\n  const [loading, setLoading] = useState(false);\r\n  const [previewData, setPreviewData] = useState(null);\r\n\r\n  // Template form state\r\n  const [templateForm, setTemplateForm] = useState({\r\n    template_name: \"\",\r\n    subject: \"\",\r\n    body: \"\",\r\n    category: \"general\",\r\n  });\r\n  const [editingTemplate, setEditingTemplate] = useState(null);\r\n\r\n  // Email compose form state\r\n  const [emailForm, setEmailForm] = useState({\r\n    title: \"\",\r\n    subject: \"\",\r\n    body: \"\",\r\n    sender_email: \"placement@college.edu\",\r\n    sendType: \"filter\", // 'filter', 'manual', 'students', 'event'\r\n    // Filter options\r\n    department: [],\r\n    batch_year: \"\",\r\n    min_cgpa: \"\",\r\n    placement_status: \"\",\r\n    // Manual emails\r\n    recipient_emails: \"\",\r\n    // Student IDs\r\n    student_ids: \"\",\r\n    // Event\r\n    event_id: \"\",\r\n    recipient_type: \"registered\",\r\n  });\r\n\r\n  // Configure axios defaults\r\n  axios.defaults.baseURL = \"http://localhost:5000\";\r\n  axios.defaults.withCredentials = true;\r\n\r\n  // Fetch templates\r\n  const fetchTemplates = async () => {\r\n    try {\r\n      const { data } = await axios.get(\"/emails/email-templates\");\r\n      if (data.success) {\r\n        setTemplates(data.templates);\r\n      }\r\n    } catch (error) {\r\n      alert(\r\n        \"Failed to fetch templates: \" + error.response?.data?.message ||\r\n          error.message\r\n      );\r\n    }\r\n  };\r\n\r\n  // Fetch campaigns\r\n  const fetchCampaigns = async () => {\r\n    try {\r\n      const { data } = await axios.get(\"/emails/email-campaigns\", {\r\n        params: { page: 1, limit: 50 },\r\n      });\r\n      if (data.success) {\r\n        setCampaigns(data.campaigns);\r\n      }\r\n    } catch (error) {\r\n      alert(\r\n        \"Failed to fetch campaigns: \" + error.response?.data?.message ||\r\n          error.message\r\n      );\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    fetchTemplates();\r\n    fetchCampaigns();\r\n  }, []);\r\n\r\n  // Handle template operations\r\n  const handleSaveTemplate = async () => {\r\n    if (\r\n      !templateForm.template_name ||\r\n      !templateForm.subject ||\r\n      !templateForm.body\r\n    ) {\r\n      alert(\"Please fill all template fields\");\r\n      return;\r\n    }\r\n\r\n    setLoading(true);\r\n    try {\r\n      const url = editingTemplate\r\n        ? `/emails/email-templates/${editingTemplate.id}`\r\n        : \"/emails/email-templates\";\r\n      const method = editingTemplate ? \"put\" : \"post\";\r\n\r\n      const { data } = await axios[method](url, templateForm);\r\n      if (data.success) {\r\n        alert(data.message);\r\n        fetchTemplates();\r\n        setTemplateForm({\r\n          template_name: \"\",\r\n          subject: \"\",\r\n          body: \"\",\r\n          category: \"general\",\r\n        });\r\n        setEditingTemplate(null);\r\n      }\r\n    } catch (error) {\r\n      alert(\r\n        \"Failed to save template: \" + error.response?.data?.message ||\r\n          error.message\r\n      );\r\n    }\r\n    setLoading(false);\r\n  };\r\n\r\n  const handleDeleteTemplate = async (id) => {\r\n    if (!confirm(\"Delete this template?\")) return;\r\n\r\n    try {\r\n      const { data } = await axios.delete(`/emails/email-templates/${id}`);\r\n      if (data.success) {\r\n        alert(\"Template deleted\");\r\n        fetchTemplates();\r\n      }\r\n    } catch (error) {\r\n      alert(\r\n        \"Failed to delete template: \" + error.response?.data?.message ||\r\n          error.message\r\n      );\r\n    }\r\n  };\r\n\r\n  const handleUseTemplate = (template) => {\r\n    setEmailForm({\r\n      ...emailForm,\r\n      title: template.template_name,\r\n      subject: template.subject,\r\n      body: template.body,\r\n    });\r\n    setActiveTab(\"compose\");\r\n  };\r\n\r\n  // Handle email preview\r\n  const handlePreview = async () => {\r\n    if (!emailForm.subject || !emailForm.body) {\r\n      alert(\"Please enter subject and body\");\r\n      return;\r\n    }\r\n\r\n    setLoading(true);\r\n    try {\r\n      const { data } = await axios.post(\"/emails/email-campaigns/preview\", {\r\n        subject: emailForm.subject,\r\n        body: emailForm.body,\r\n      });\r\n      if (data.success) {\r\n        setPreviewData(data.preview);\r\n      }\r\n    } catch (error) {\r\n      alert(\r\n        \"Failed to preview email: \" + error.response?.data?.message ||\r\n          error.message\r\n      );\r\n    }\r\n    setLoading(false);\r\n  };\r\n\r\n  // Handle send email\r\n  const handleSendEmail = async () => {\r\n    if (!emailForm.title || !emailForm.subject || !emailForm.body) {\r\n      alert(\"Please fill title, subject, and body\");\r\n      return;\r\n    }\r\n\r\n    if (!confirm(\"Are you sure you want to send this email?\")) return;\r\n\r\n    setLoading(true);\r\n    try {\r\n      let url = \"/emails/email-campaigns/send\";\r\n      let body = {\r\n        title: emailForm.title,\r\n        subject: emailForm.subject,\r\n        body: emailForm.body,\r\n        sender_email: emailForm.sender_email,\r\n      };\r\n\r\n      if (emailForm.sendType === \"filter\") {\r\n        const filters = {};\r\n        if (emailForm.department.length > 0)\r\n          filters.department = emailForm.department;\r\n        if (emailForm.batch_year)\r\n          filters.batch_year = parseInt(emailForm.batch_year);\r\n        if (emailForm.min_cgpa)\r\n          filters.min_cgpa = parseFloat(emailForm.min_cgpa);\r\n        if (emailForm.placement_status)\r\n          filters.placement_status = emailForm.placement_status;\r\n\r\n        body.recipient_filter = filters;\r\n      } else if (emailForm.sendType === \"manual\") {\r\n        const emails = emailForm.recipient_emails\r\n          .split(\",\")\r\n          .map((e) => e.trim())\r\n          .filter((e) => e);\r\n        if (emails.length === 0) {\r\n          alert(\"Please enter at least one email address\");\r\n          setLoading(false);\r\n          return;\r\n        }\r\n        body.recipient_emails = emails;\r\n      } else if (emailForm.sendType === \"students\") {\r\n        url = \"/emails/email-campaigns/send/students\";\r\n        const ids = emailForm.student_ids\r\n          .split(\",\")\r\n          .map((id) => parseInt(id.trim()))\r\n          .filter((id) => !isNaN(id));\r\n        if (ids.length === 0) {\r\n          alert(\"Please enter at least one student ID\");\r\n          setLoading(false);\r\n          return;\r\n        }\r\n        body.student_ids = ids;\r\n      } else if (emailForm.sendType === \"event\") {\r\n        if (!emailForm.event_id) {\r\n          alert(\"Please enter event ID\");\r\n          setLoading(false);\r\n          return;\r\n        }\r\n        url = `/emails/email-campaigns/send/event/${emailForm.event_id}`;\r\n        body.recipient_type = emailForm.recipient_type;\r\n      }\r\n\r\n      const { data } = await axios.post(url, body);\r\n      if (data.success) {\r\n        alert(\r\n          `${data.message}\\nSuccessful: ${data.emailResults?.successful || 0}\\nFailed: ${data.emailResults?.failed || 0}`\r\n        );\r\n        fetchCampaigns();\r\n        // Reset form\r\n        setEmailForm({\r\n          ...emailForm,\r\n          title: \"\",\r\n          subject: \"\",\r\n          body: \"\",\r\n          department: [],\r\n          batch_year: \"\",\r\n          min_cgpa: \"\",\r\n          recipient_emails: \"\",\r\n          student_ids: \"\",\r\n          event_id: \"\",\r\n        });\r\n      }\r\n    } catch (error) {\r\n      alert(\r\n        \"Failed to send email: \" + error.response?.data?.message ||\r\n          error.message\r\n      );\r\n    }\r\n    setLoading(false);\r\n  };\r\n\r\n  const handleDeleteCampaign = async (id) => {\r\n    if (!confirm(\"Delete this campaign?\")) return;\r\n\r\n    try {\r\n      const { data } = await axios.delete(`/emails/email-campaigns/${id}`);\r\n      if (data.success) {\r\n        alert(\"Campaign deleted\");\r\n        fetchCampaigns();\r\n      }\r\n    } catch (error) {\r\n      alert(\r\n        \"Failed to delete campaign: \" + error.response?.data?.message ||\r\n          error.message\r\n      );\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"min-h-screen bg-gray-50 p-6\">\r\n      <div className=\"max-w-7xl mx-auto\">\r\n        <h1 className=\"text-3xl font-bold text-gray-900 mb-6 flex items-center gap-2\">\r\n          <Mail className=\"w-8 h-8\" />\r\n          Email Campaign Manager\r\n        </h1>\r\n\r\n        {/* Tabs */}\r\n        <div className=\"bg-white rounded-lg shadow mb-6\">\r\n          <div className=\"flex border-b\">\r\n            <button\r\n              onClick={() => setActiveTab(\"compose\")}\r\n              className={`px-6 py-3 font-medium ${activeTab === \"compose\" ? \"border-b-2 border-blue-500 text-blue-600\" : \"text-gray-600\"}`}\r\n            >\r\n              <Send className=\"w-4 h-4 inline mr-2\" />\r\n              Compose Email\r\n            </button>\r\n            <button\r\n              onClick={() => setActiveTab(\"templates\")}\r\n              className={`px-6 py-3 font-medium ${activeTab === \"templates\" ? \"border-b-2 border-blue-500 text-blue-600\" : \"text-gray-600\"}`}\r\n            >\r\n              <Mail className=\"w-4 h-4 inline mr-2\" />\r\n              Templates\r\n            </button>\r\n            <button\r\n              onClick={() => setActiveTab(\"history\")}\r\n              className={`px-6 py-3 font-medium ${activeTab === \"history\" ? \"border-b-2 border-blue-500 text-blue-600\" : \"text-gray-600\"}`}\r\n            >\r\n              <Users className=\"w-4 h-4 inline mr-2\" />\r\n              Campaign History\r\n            </button>\r\n          </div>\r\n        </div>\r\n\r\n        {/* Compose Email Tab */}\r\n        {activeTab === \"compose\" && (\r\n          <div className=\"bg-white rounded-lg shadow p-6\">\r\n            <h2 className=\"text-xl font-bold mb-4\">Compose New Email</h2>\r\n\r\n            {/* Quick Templates */}\r\n            {templates.length > 0 && (\r\n              <div className=\"mb-6 p-4 bg-blue-50 rounded-lg\">\r\n                <p className=\"font-medium mb-2\">Quick Start - Use Template:</p>\r\n                <div className=\"flex flex-wrap gap-2\">\r\n                  {templates.map((template) => (\r\n                    <button\r\n                      key={template.id}\r\n                      onClick={() => handleUseTemplate(template)}\r\n                      className=\"px-3 py-1 bg-blue-500 text-white rounded text-sm hover:bg-blue-600\"\r\n                    >\r\n                      {template.template_name}\r\n                    </button>\r\n                  ))}\r\n                </div>\r\n              </div>\r\n            )}\r\n\r\n            <div className=\"space-y-4\">\r\n              <div>\r\n                <label className=\"block font-medium mb-2\">\r\n                  Campaign Title (Internal)\r\n                </label>\r\n                <input\r\n                  type=\"text\"\r\n                  value={emailForm.title}\r\n                  onChange={(e) =>\r\n                    setEmailForm({ ...emailForm, title: e.target.value })\r\n                  }\r\n                  className=\"w-full border rounded px-3 py-2\"\r\n                  placeholder=\"e.g., Google Drive Reminder - Jan 2024\"\r\n                />\r\n              </div>\r\n\r\n              <div>\r\n                <label className=\"block font-medium mb-2\">Sender Email</label>\r\n                <input\r\n                  type=\"email\"\r\n                  value={emailForm.sender_email}\r\n                  onChange={(e) =>\r\n                    setEmailForm({ ...emailForm, sender_email: e.target.value })\r\n                  }\r\n                  className=\"w-full border rounded px-3 py-2\"\r\n                  placeholder=\"placement@college.edu\"\r\n                />\r\n              </div>\r\n\r\n              <div>\r\n                <label className=\"block font-medium mb-2\">Email Subject</label>\r\n                <input\r\n                  type=\"text\"\r\n                  value={emailForm.subject}\r\n                  onChange={(e) =>\r\n                    setEmailForm({ ...emailForm, subject: e.target.value })\r\n                  }\r\n                  className=\"w-full border rounded px-3 py-2\"\r\n                  placeholder=\"Use {first_name}, {last_name}, {cgpa}, etc.\"\r\n                />\r\n              </div>\r\n\r\n              <div>\r\n                <label className=\"block font-medium mb-2\">\r\n                  Email Body (HTML)\r\n                </label>\r\n                <textarea\r\n                  value={emailForm.body}\r\n                  onChange={(e) =>\r\n                    setEmailForm({ ...emailForm, body: e.target.value })\r\n                  }\r\n                  className=\"w-full border rounded px-3 py-2 h-48 font-mono text-sm\"\r\n                  placeholder=\"<p>Dear {first_name},</p><p>Your CGPA is {cgpa}...</p>\"\r\n                />\r\n                <p className=\"text-sm text-gray-600 mt-1\">\r\n                  Available variables: {\"{first_name}\"}, {\"{last_name}\"},{\" \"}\r\n                  {\"{cgpa}\"}, {\"{department}\"}, {\"{enrollment_number}\"},{\" \"}\r\n                  {\"{batch_year}\"}\r\n                </p>\r\n              </div>\r\n\r\n              {/* Recipient Type Selection */}\r\n              <div>\r\n                <label className=\"block font-medium mb-2\">Send To</label>\r\n                <div className=\"flex gap-4 mb-4\">\r\n                  <label className=\"flex items-center\">\r\n                    <input\r\n                      type=\"radio\"\r\n                      value=\"filter\"\r\n                      checked={emailForm.sendType === \"filter\"}\r\n                      onChange={(e) =>\r\n                        setEmailForm({ ...emailForm, sendType: e.target.value })\r\n                      }\r\n                      className=\"mr-2\"\r\n                    />\r\n                    Filter Students\r\n                  </label>\r\n                  <label className=\"flex items-center\">\r\n                    <input\r\n                      type=\"radio\"\r\n                      value=\"manual\"\r\n                      checked={emailForm.sendType === \"manual\"}\r\n                      onChange={(e) =>\r\n                        setEmailForm({ ...emailForm, sendType: e.target.value })\r\n                      }\r\n                      className=\"mr-2\"\r\n                    />\r\n                    Manual Emails\r\n                  </label>\r\n                  <label className=\"flex items-center\">\r\n                    <input\r\n                      type=\"radio\"\r\n                      value=\"students\"\r\n                      checked={emailForm.sendType === \"students\"}\r\n                      onChange={(e) =>\r\n                        setEmailForm({ ...emailForm, sendType: e.target.value })\r\n                      }\r\n                      className=\"mr-2\"\r\n                    />\r\n                    Student IDs\r\n                  </label>\r\n                  <label className=\"flex items-center\">\r\n                    <input\r\n                      type=\"radio\"\r\n                      value=\"event\"\r\n                      checked={emailForm.sendType === \"event\"}\r\n                      onChange={(e) =>\r\n                        setEmailForm({ ...emailForm, sendType: e.target.value })\r\n                      }\r\n                      className=\"mr-2\"\r\n                    />\r\n                    Event Participants\r\n                  </label>\r\n                </div>\r\n\r\n                {/* Filter Options */}\r\n                {emailForm.sendType === \"filter\" && (\r\n                  <div className=\"space-y-3 p-4 bg-gray-50 rounded\">\r\n                    <div>\r\n                      <label className=\"block text-sm font-medium mb-1\">\r\n                        Department (comma-separated)\r\n                      </label>\r\n                      <input\r\n                        type=\"text\"\r\n                        value={emailForm.department.join(\", \")}\r\n                        onChange={(e) =>\r\n                          setEmailForm({\r\n                            ...emailForm,\r\n                            department: e.target.value\r\n                              .split(\",\")\r\n                              .map((d) => d.trim()),\r\n                          })\r\n                        }\r\n                        className=\"w-full border rounded px-3 py-2\"\r\n                        placeholder=\"CSE, ECE, ME\"\r\n                      />\r\n                    </div>\r\n                    <div className=\"grid grid-cols-3 gap-3\">\r\n                      <div>\r\n                        <label className=\"block text-sm font-medium mb-1\">\r\n                          Batch Year\r\n                        </label>\r\n                        <input\r\n                          type=\"number\"\r\n                          value={emailForm.batch_year}\r\n                          onChange={(e) =>\r\n                            setEmailForm({\r\n                              ...emailForm,\r\n                              batch_year: e.target.value,\r\n                            })\r\n                          }\r\n                          className=\"w-full border rounded px-3 py-2\"\r\n                          placeholder=\"2024\"\r\n                        />\r\n                      </div>\r\n                      <div>\r\n                        <label className=\"block text-sm font-medium mb-1\">\r\n                          Min CGPA\r\n                        </label>\r\n                        <input\r\n                          type=\"number\"\r\n                          step=\"0.1\"\r\n                          value={emailForm.min_cgpa}\r\n                          onChange={(e) =>\r\n                            setEmailForm({\r\n                              ...emailForm,\r\n                              min_cgpa: e.target.value,\r\n                            })\r\n                          }\r\n                          className=\"w-full border rounded px-3 py-2\"\r\n                          placeholder=\"7.0\"\r\n                        />\r\n                      </div>\r\n                      <div>\r\n                        <label className=\"block text-sm font-medium mb-1\">\r\n                          Placement Status\r\n                        </label>\r\n                        <select\r\n                          value={emailForm.placement_status}\r\n                          onChange={(e) =>\r\n                            setEmailForm({\r\n                              ...emailForm,\r\n                              placement_status: e.target.value,\r\n                            })\r\n                          }\r\n                          className=\"w-full border rounded px-3 py-2\"\r\n                        >\r\n                          <option value=\"\">All</option>\r\n                          <option value=\"eligible\">Eligible</option>\r\n                          <option value=\"placed\">Placed</option>\r\n                          <option value=\"unplaced\">Unplaced</option>\r\n                        </select>\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                )}\r\n\r\n                {/* Manual Emails */}\r\n                {emailForm.sendType === \"manual\" && (\r\n                  <div className=\"p-4 bg-gray-50 rounded\">\r\n                    <label className=\"block text-sm font-medium mb-1\">\r\n                      Email Addresses (comma-separated)\r\n                    </label>\r\n                    <textarea\r\n                      value={emailForm.recipient_emails}\r\n                      onChange={(e) =>\r\n                        setEmailForm({\r\n                          ...emailForm,\r\n                          recipient_emails: e.target.value,\r\n                        })\r\n                      }\r\n                      className=\"w-full border rounded px-3 py-2 h-24\"\r\n                      placeholder=\"student1@college.edu, student2@college.edu\"\r\n                    />\r\n                  </div>\r\n                )}\r\n\r\n                {/* Student IDs */}\r\n                {emailForm.sendType === \"students\" && (\r\n                  <div className=\"p-4 bg-gray-50 rounded\">\r\n                    <label className=\"block text-sm font-medium mb-1\">\r\n                      Student IDs (comma-separated)\r\n                    </label>\r\n                    <input\r\n                      type=\"text\"\r\n                      value={emailForm.student_ids}\r\n                      onChange={(e) =>\r\n                        setEmailForm({\r\n                          ...emailForm,\r\n                          student_ids: e.target.value,\r\n                        })\r\n                      }\r\n                      className=\"w-full border rounded px-3 py-2\"\r\n                      placeholder=\"1, 2, 3, 45, 67\"\r\n                    />\r\n                  </div>\r\n                )}\r\n\r\n                {/* Event Options */}\r\n                {emailForm.sendType === \"event\" && (\r\n                  <div className=\"p-4 bg-gray-50 rounded space-y-3\">\r\n                    <div>\r\n                      <label className=\"block text-sm font-medium mb-1\">\r\n                        Event ID\r\n                      </label>\r\n                      <input\r\n                        type=\"number\"\r\n                        value={emailForm.event_id}\r\n                        onChange={(e) =>\r\n                          setEmailForm({\r\n                            ...emailForm,\r\n                            event_id: e.target.value,\r\n                          })\r\n                        }\r\n                        className=\"w-full border rounded px-3 py-2\"\r\n                        placeholder=\"1\"\r\n                      />\r\n                    </div>\r\n                    <div>\r\n                      <label className=\"block text-sm font-medium mb-1\">\r\n                        Recipient Type\r\n                      </label>\r\n                      <select\r\n                        value={emailForm.recipient_type}\r\n                        onChange={(e) =>\r\n                          setEmailForm({\r\n                            ...emailForm,\r\n                            recipient_type: e.target.value,\r\n                          })\r\n                        }\r\n                        className=\"w-full border rounded px-3 py-2\"\r\n                      >\r\n                        <option value=\"registered\">Registered Students</option>\r\n                        <option value=\"attended\">Attended Students</option>\r\n                        <option value=\"absent\">Absent Students</option>\r\n                        <option value=\"selected\">Selected Students</option>\r\n                      </select>\r\n                    </div>\r\n                  </div>\r\n                )}\r\n              </div>\r\n\r\n              {/* Action Buttons */}\r\n              <div className=\"flex gap-3\">\r\n                <button\r\n                  onClick={handlePreview}\r\n                  disabled={loading}\r\n                  className=\"px-4 py-2 bg-gray-500 text-white rounded hover:bg-gray-600 disabled:opacity-50 flex items-center gap-2\"\r\n                >\r\n                  <Eye className=\"w-4 h-4\" />\r\n                  Preview\r\n                </button>\r\n                <button\r\n                  onClick={handleSendEmail}\r\n                  disabled={loading}\r\n                  className=\"px-6 py-2 bg-blue-600 text-white rounded hover:bg-blue-700 disabled:opacity-50 flex items-center gap-2\"\r\n                >\r\n                  <Send className=\"w-4 h-4\" />\r\n                  {loading ? \"Sending...\" : \"Send Email\"}\r\n                </button>\r\n              </div>\r\n            </div>\r\n\r\n            {/* Preview Modal */}\r\n            {previewData && (\r\n              <div className=\"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50\">\r\n                <div className=\"bg-white rounded-lg max-w-2xl w-full max-h-[80vh] overflow-y-auto p-6\">\r\n                  <div className=\"flex justify-between items-center mb-4\">\r\n                    <h3 className=\"text-xl font-bold\">Email Preview</h3>\r\n                    <button onClick={() => setPreviewData(null)}>\r\n                      <X className=\"w-6 h-6\" />\r\n                    </button>\r\n                  </div>\r\n                  <div className=\"space-y-3\">\r\n                    <div>\r\n                      <p className=\"font-medium text-sm text-gray-600\">\r\n                        Subject:\r\n                      </p>\r\n                      <p className=\"text-lg\">{previewData.subject}</p>\r\n                    </div>\r\n                    <div>\r\n                      <p className=\"font-medium text-sm text-gray-600 mb-2\">\r\n                        Body:\r\n                      </p>\r\n                      <div\r\n                        className=\"border rounded p-4 bg-gray-50\"\r\n                        dangerouslySetInnerHTML={{ __html: previewData.body }}\r\n                      />\r\n                    </div>\r\n                    <div>\r\n                      <p className=\"font-medium text-sm text-gray-600\">\r\n                        Sample Data Used:\r\n                      </p>\r\n                      <pre className=\"text-xs bg-gray-100 p-2 rounded mt-1\">\r\n                        {JSON.stringify(previewData.sample_data, null, 2)}\r\n                      </pre>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            )}\r\n          </div>\r\n        )}\r\n\r\n        {/* Templates Tab */}\r\n        {activeTab === \"templates\" && (\r\n          <div className=\"bg-white rounded-lg shadow p-6\">\r\n            <h2 className=\"text-xl font-bold mb-4\">Email Templates</h2>\r\n\r\n            {/* Create/Edit Template Form */}\r\n            <div className=\"mb-6 p-4 bg-gray-50 rounded\">\r\n              <h3 className=\"font-bold mb-3\">\r\n                {editingTemplate ? \"Edit Template\" : \"Create New Template\"}\r\n              </h3>\r\n              <div className=\"space-y-3\">\r\n                <input\r\n                  type=\"text\"\r\n                  value={templateForm.template_name}\r\n                  onChange={(e) =>\r\n                    setTemplateForm({\r\n                      ...templateForm,\r\n                      template_name: e.target.value,\r\n                    })\r\n                  }\r\n                  className=\"w-full border rounded px-3 py-2\"\r\n                  placeholder=\"Template Name\"\r\n                />\r\n                <input\r\n                  type=\"text\"\r\n                  value={templateForm.subject}\r\n                  onChange={(e) =>\r\n                    setTemplateForm({\r\n                      ...templateForm,\r\n                      subject: e.target.value,\r\n                    })\r\n                  }\r\n                  className=\"w-full border rounded px-3 py-2\"\r\n                  placeholder=\"Subject\"\r\n                />\r\n                <textarea\r\n                  value={templateForm.body}\r\n                  onChange={(e) =>\r\n                    setTemplateForm({ ...templateForm, body: e.target.value })\r\n                  }\r\n                  className=\"w-full border rounded px-3 py-2 h-32\"\r\n                  placeholder=\"Body (HTML)\"\r\n                />\r\n                <select\r\n                  value={templateForm.category}\r\n                  onChange={(e) =>\r\n                    setTemplateForm({\r\n                      ...templateForm,\r\n                      category: e.target.value,\r\n                    })\r\n                  }\r\n                  className=\"w-full border rounded px-3 py-2\"\r\n                >\r\n                  <option value=\"general\">General</option>\r\n                  <option value=\"placement\">Placement</option>\r\n                  <option value=\"event\">Event</option>\r\n                  <option value=\"reminder\">Reminder</option>\r\n                </select>\r\n                <div className=\"flex gap-2\">\r\n                  <button\r\n                    onClick={handleSaveTemplate}\r\n                    disabled={loading}\r\n                    className=\"px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-700 disabled:opacity-50 flex items-center gap-2\"\r\n                  >\r\n                    <Save className=\"w-4 h-4\" />\r\n                    {editingTemplate ? \"Update\" : \"Save\"} Template\r\n                  </button>\r\n                  {editingTemplate && (\r\n                    <button\r\n                      onClick={() => {\r\n                        setEditingTemplate(null);\r\n                        setTemplateForm({\r\n                          template_name: \"\",\r\n                          subject: \"\",\r\n                          body: \"\",\r\n                          category: \"general\",\r\n                        });\r\n                      }}\r\n                      className=\"px-4 py-2 bg-gray-500 text-white rounded hover:bg-gray-600\"\r\n                    >\r\n                      Cancel\r\n                    </button>\r\n                  )}\r\n                </div>\r\n              </div>\r\n            </div>\r\n\r\n            {/* Templates List */}\r\n            <div className=\"space-y-3\">\r\n              {templates.map((template) => (\r\n                <div\r\n                  key={template.id}\r\n                  className=\"border rounded p-4 hover:bg-gray-50\"\r\n                >\r\n                  <div className=\"flex justify-between items-start\">\r\n                    <div className=\"flex-1\">\r\n                      <h4 className=\"font-bold\">{template.template_name}</h4>\r\n                      <p className=\"text-sm text-gray-600 mb-1\">\r\n                        {template.subject}\r\n                      </p>\r\n                      <p className=\"text-xs text-gray-500\">\r\n                        {template.category}\r\n                      </p>\r\n                    </div>\r\n                    <div className=\"flex gap-2\">\r\n                      <button\r\n                        onClick={() => handleUseTemplate(template)}\r\n                        className=\"p-2 text-blue-600 hover:bg-blue-50 rounded\"\r\n                        title=\"Use Template\"\r\n                      >\r\n                        <Mail className=\"w-4 h-4\" />\r\n                      </button>\r\n                      <button\r\n                        onClick={() => {\r\n                          setEditingTemplate(template);\r\n                          setTemplateForm({\r\n                            template_name: template.template_name,\r\n                            subject: template.subject,\r\n                            body: template.body,\r\n                            category: template.category,\r\n                          });\r\n                        }}\r\n                        className=\"p-2 text-green-600 hover:bg-green-50 rounded\"\r\n                        title=\"Edit\"\r\n                      >\r\n                        <Edit className=\"w-4 h-4\" />\r\n                      </button>\r\n                      <button\r\n                        onClick={() => handleDeleteTemplate(template.id)}\r\n                        className=\"p-2 text-red-600 hover:bg-red-50 rounded\"\r\n                        title=\"Delete\"\r\n                      >\r\n                        <Trash2 className=\"w-4 h-4\" />\r\n                      </button>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              ))}\r\n              {templates.length === 0 && (\r\n                <p className=\"text-gray-500 text-center py-8\">\r\n                  No templates yet. Create one above!\r\n                </p>\r\n              )}\r\n            </div>\r\n          </div>\r\n        )}\r\n\r\n        {/* Campaign History Tab */}\r\n        {activeTab === \"history\" && (\r\n          <div className=\"bg-white rounded-lg shadow p-6\">\r\n            <h2 className=\"text-xl font-bold mb-4\">Campaign History</h2>\r\n            <div className=\"space-y-3\">\r\n              {campaigns.map((campaign) => (\r\n                <div\r\n                  key={campaign.id}\r\n                  className=\"border rounded p-4 hover:bg-gray-50\"\r\n                >\r\n                  <div className=\"flex justify-between items-start\">\r\n                    <div className=\"flex-1\">\r\n                      <h4 className=\"font-bold\">{campaign.title}</h4>\r\n                      <p className=\"text-sm text-gray-600 mb-1\">\r\n                        {campaign.subject}\r\n                      </p>\r\n                      <div className=\"flex gap-4 text-xs text-gray-500 mt-2\">\r\n                        <span>Recipients: {campaign.total_recipients}</span>\r\n                        <span>\r\n                          Sent: {new Date(campaign.sent_at).toLocaleString()}\r\n                        </span>\r\n                        {campaign.event_title && (\r\n                          <span>Event: {campaign.event_title}</span>\r\n                        )}\r\n                      </div>\r\n                    </div>\r\n                    <button\r\n                      onClick={() => handleDeleteCampaign(campaign.id)}\r\n                      className=\"p-2 text-red-600 hover:bg-red-50 rounded\"\r\n                      title=\"Delete\"\r\n                    >\r\n                      <Trash2 className=\"w-4 h-4\" />\r\n                    </button>\r\n                  </div>\r\n                </div>\r\n              ))}\r\n              {campaigns.length === 0 && (\r\n                <p className=\"text-gray-500 text-center py-8\">\r\n                  No campaigns sent yet.\r\n                </p>\r\n              )}\r\n            </div>\r\n          </div>\r\n        )}\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default EmailCampaignPage;\r\n"],"names":[],"mappings":"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","debugId":null}}]
}